<!DOCTYPE html>
<html>
<head>
	<title>HandsOff</title>
	<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
	<div class="container">
		<div class="header">
			<table>
				<thead>
					<tr>
						<th>serving on</th>
						<th>boot time</th>
						<th>connected stations</th>
						<th>server version</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>{{ serving_on }}</td>
						<td>{{ boot_time }}</td>
						<td>{{ connected_stations }}</td>
						<td>{{ server_version }}</td>
					</tr>
				</tbody>
			</table>
		</div>

		<div class="content">
			<h1>Connected Stations</h1>
			<table>
				<thead>
					<tr>
						<th>Client MAC</th>
						<th>IP Address</th>
						<th>Hostname</th>
						<th>Logged User</th>
						<th>Boot Time</th>
						<th>Client Version</th>
					</tr>
				</thead>
				<tbody>
					{% for endpoint in endpoints %}
					<tr class="row-data" data-id="{{ endpoint.client_mac }}" data-ip="{{ endpoint.ip }}" data-hostname="{{ endpoint.ident }}" data-user="{{ endpoint.user }}" data-boot="{{ endpoint.boot_time }}" data-connection="{{ endpoint.connection_time }}">
						<td>{{ endpoint.client_mac }}</td>
						<td>{{ endpoint.ip }}</td>
						<td>{{ endpoint.ident }}</td>
						<td>{{ endpoint.user }}</td>
						<td>{{ endpoint.boot_time }}</td>
						<td>{{ endpoint.client_version }}</td>

					</tr>
					 {% endfor %}
					 {% if not endpoints %}
					<tr>
						<td colspan="6">No endpoints found.</td>
					</tr>
					{% endif %}
				</tbody>
			</table>
		</div>

		<div class="container">
			<div class="buttons-container">
			<button class="button" data-action="screenshot">Screenshot</button>
			<button class="button" data-action="anydesk">Anydesk</button>
			<button class="button" data-action="sysinfo">Sysinfo</button>
			<button class="button" data-action="tasks">Tasks</button>
			<button class="button" data-action="restart">Restart</button>
			<button class="button" data-action="local">Local Files</button>
			<button class="button" data-action="update">Update</button>
			<script src="{{ url_for('static', filename='controller.js') }}"></script>
			</div>
		</div>

		<div class="container">
			<div class="slider-wrapper">
				<div class="slider"></div>
				<div class="slider-nav"></div>
			</div>
			<script src="{{ url_for('static', filename='row_data.js') }}"></script>
		</div>

		<div class="content">
			<h1>Connection History</h1>
			<table>
				<thead>
					<tr>
						<th>Client MAC</th>
						<th>IP Address</th>
						<th>Hostname</th>
						<th>Logged User</th>
						<th>Boot Time</th>
						<th>Connection Time</th>
					</tr>
				</thead>
				<tbody>
					{% for endpoint, time in history.items() %}
					<tr>
						<td>{{ endpoint.client_mac }}</td>
						<td>{{ endpoint.ip }}</td>
						<td>{{ endpoint.ident }}</td>
						<td>{{ endpoint.user }}</td>
						<td>{{ endpoint.boot_time }}</td>
						<td>{{ endpoint.connection_time }}</td>

					</tr>
					 {% endfor %}
					 {% if not history %}
					<tr>
						<td colspan="6">No endpoints found.</td>
					</tr>
					{% endif %}
				</tbody>
			</table>
		</div>
	</div>


</body>
</html>